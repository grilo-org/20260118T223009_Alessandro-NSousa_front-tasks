<mat-card class="tarefa-card">

  <mat-card-header>
    <mat-card-title class="mb-5">Nova Tarefa</mat-card-title>
    
  </mat-card-header>

  <mat-card-content>
    <form [formGroup]="signupForm"
          (ngSubmit)="salvar()"
          class="tarefa-form">

            <!-- TÍTULO -->
      <div class="form-section">
        <app-primary-input
          formControlName="titulo"
          inputName="titulo"
          type="text"
          label="Título">
        </app-primary-input>

        <small class="error"
          *ngIf="signupForm.controls['titulo'].touched &&
                signupForm.controls['titulo'].invalid">
          Título obrigatório (mín. 3 caracteres)
        </small>
      </div>

          <!-- DESCRIÇÃO -->
      <div class="form-section">
        <label class="section-label">Descrição</label>

        <div
          #editor
          class="ckeditor-container"
          [class.is-invalid]="signupForm.controls['descricao'].touched &&
                              signupForm.controls['descricao'].invalid">
        </div>

        <small class="error"
          *ngIf="signupForm.controls['descricao'].touched &&
                signupForm.controls['descricao'].invalid">
          Descrição obrigatória
        </small>
      </div>

          <!-- STATUS + RESPONSÁVEL -->
      <div class="form-grid">

        <div>
          <app-primary-select
            formControlName="status"
            label="Status"
            [options]="statusOptions">
          </app-primary-select>

          <small class="error"
            *ngIf="signupForm.controls['status'].touched &&
                  signupForm.controls['status'].invalid">
            Selecione um status
          </small>
        </div>

        <div>
          <app-primary-select
            formControlName="colaboradorId"
            label="Responsável"
            [options]="colaboradoresOptions">
          </app-primary-select>

          <small class="error"
            *ngIf="signupForm.controls['colaboradorId'].touched &&
                  signupForm.controls['colaboradorId'].invalid">
            Selecione um responsável
          </small>
        </div>

      </div>

          <!-- AÇÕES -->
      <div class="form-actions">
        <button
          mat-stroked-button
          type="button"
          (click)="cancelar()">
          <mat-icon>block</mat-icon>
          Cancelar
        </button>

        <button
          mat-flat-button
          color="primary"
          type="submit"
          [disabled]="signupForm.invalid">
          <mat-icon>save</mat-icon>
          Cadastrar
        </button>
      </div>

    </form>
  </mat-card-content>

</mat-card>

